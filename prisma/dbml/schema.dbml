//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Property {
  id Int [pk, increment]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  title String [not null]
  propertyType PropertyType
  propertyTypeId Int [not null]
  description String
  city String [not null]
  country String [not null]
  bedrooms Int [not null]
  beds Int [not null]
  baths Int
  entirePlace Boolean [not null, default: false]
  defaultImage String
  amenities AmenitiesOnProperties [not null]
  reviews Review [not null]
  host PropertiesOnHosts [not null]
}

Table Review {
  id Int [pk, increment]
  reviewer User [not null]
  reviewerId Int [unique, not null]
  property Property
  propertyId Int [unique]
  avatar String [not null]
  comment String [not null]
  rating Decimal [not null]
  date DateTime [default: `now()`, not null]
}

Table Amenity {
  id Int [pk, increment]
  properties AmenitiesOnProperties [not null]
  name String [unique, not null]
}

Table AmenitiesOnProperties {
  amenity Amenity [not null]
  amenityId Int [not null]
  property Property
  propertyId Int [not null]
  assignedAt DateTime [default: `now()`, not null]
  assignedBy String

  indexes {
    (amenityId, propertyId) [pk]
  }
}

Table User {
  id Int [pk, increment]
  email String [unique, not null]
  firstName String
  lastName String
  profile Profile
  host Host [not null]
  reviews Review [not null]
  role Role [default: 'USER']
}

Table Profile {
  id Int [pk, increment]
  bio String
  user User [not null]
  userId Int [unique, not null]
}

Table Host {
  id Int [pk, increment]
  properties PropertiesOnHosts [not null]
  user User
  userId Int [not null]
}

Table PropertiesOnHosts {
  host Host [not null]
  hostId Int [not null]
  property Property
  propertyId Int [not null]
  superHost Boolean [not null, default: false]
  assignedAt DateTime [default: `now()`, not null]
  assignedBy String

  indexes {
    (hostId, propertyId) [pk]
  }
}

Table PropertyType {
  id Int [pk, increment]
  name String [unique, not null]
  type Property [not null]
}

Enum Role {
  USER
  ADMIN
}

Ref: Property.propertyTypeId > PropertyType.id

Ref: Review.reviewerId > User.id

Ref: Review.propertyId > Property.id

Ref: AmenitiesOnProperties.amenityId > Amenity.id

Ref: AmenitiesOnProperties.propertyId > Property.id

Ref: Profile.userId - User.id

Ref: Host.userId > User.id

Ref: PropertiesOnHosts.hostId > Host.id

Ref: PropertiesOnHosts.propertyId > Property.id